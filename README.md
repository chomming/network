## OSI 7 Layer
- 네트워크에서 통신이 일어나는 과정
- 1계층 : 물리층
  - 데이터를 전기적인 신호로 변환해서 주고받는 기능
  - 리피터, 허브, 케이블
- 2계층 : 데이터링크층
  - 정보의 오류와 흐름을 관리하여 안전한 정보의 전달을 수행할 수 있도록 도와주는 역할
  - 스위치, bridge
  - 전송 단위 : 프레임
  - 프로토콜 : 이더넷
  - MAC 주소로 통신
- 3계층 : 네트워크층
  - 경로 선택, 주소 지정
  - 경로에 따라 패킷 전달
  - 라우터, L3 스위치
  - 전송단위 : 패킷
  - 프로토콜 : IP, ICMP, ARP, IGMP
    - IP
      - 문제점
        - 데이터그램 전달 서비스 제공
        - 최선의 노력 전달 서비스
        - 오류 제어 및 지원 매커니즘 없음
        - 호스트 및 관리 질의를 위한 매커니즘 없음
    - ICMP
      - 메시지 유형
        - 오류 보고 메시지
          - 종류
            - 목적지 도달 불가능 : 데이터그램 전달 불가능
            - 시간 경과 : 데이터그램 수명 필드 0
            - 재지정 : 네트워크 상황에 따라 라우팅 테이블 변동
            - 발신지 억제 : 혼잡으로 인한 데이터 폐기
            - 매개변수 문제 : 라우터/목적지 호스트의 데이터그램 필드에 빠진 값 발견
          - 특징
            - 수정과 다름
            - 언제나 최초의 발신지에 전송
            - 오류 메시지를 전달하는 데이터그램에 대해 ICMP 오류 메시지 생성 X
            - 멀티캐스트 주소를 가진 데이터그램에 대해 ICMP 오류 메시지 생성 X
            - 특별한 주소를 가진 데이그램에 대해 ICMP 오류 메시지 생성 X
        - 질의 메시지
          - Time Stamp 요청, 응답 : 왕복 시간 결정
          - Echo 요청, 응답 : 고장 진단
- 4계층 : 전송층
  - 포트를 열어 응용 프로그램 전송
  - gateway
  - 특징
    - 프로세스 - 프로세스 통신
    - 포트 번호 사용
    - 흐름 제어
  - 전송 단위 : 세그먼트(TCP), 데이터그램(UDP)
  - 프로토콜 : TCP, UDP
    - UDP
      - User Data Procotol
      - 8바이트 헤더 : 최소한의 오버헤드
      - 잘 알려진 포트
        - 7 : Echo
        - 20, 21 : FTP
        - 23 : Telnet
        - 25 : SMTP
        - 53 : DNS
        - 80 : HTTP
      - 특징
        - 비연결형 서비스
        - 65,607보다 작은 메시지만 전송 가능
        - 흐름 제어, 오류 제어, 혼잡 제어 없음
        - 메시지를 전송층에서 수신 가능한 크기의 데이터 단편으로 나눔
        - 순서에 어긋나게 서버 프로세스에 도착
    - TCP
      - 연결 설정 --> 데이터 교환 --> 연결 해제
      - 순서에 맞게 도착
- 5계층 : 세션층
  - 데이터가 통신하기 위한 논리적인 연결
  - 전송 단위 : 메시지
  - 프로토콜 : SSH
- 6계층 : 표현층
  - 응용 프로세스의 독립성 제공
  - 암호화
  - 전송 단위 : 메시지
- 7계층 : 응용층
  - 응용 서비스 수행
  - 전송 단위 : 메시지
  - 프로토콜 : HTTP, DNS, SMTP, FTP, Telnet
    - DNS
      - Domain Name System
      - IP 줌

## 라우팅
- RIP
  - Routing Infromation Protocol
  - 각 네트워크를 동일하게 취급
  - Inter Domain
  - 자율 시스템 내에서 사용하는 내부 라우팅 프로토콜
  - 거리 백터 라우팅 기반
  - 홉 카운트 수만 따짐
  - UDP에 캡슐화
- OSPF
  - Open Shorting Path First
  - 요청된 서비스에 따라 비용을 관리자가 할당 가능
  - Inter Domain
  - 링크 상태 라우팅에 근거를 둔 내부 라우팅 프로토콜
  - 라우팅을 효율적으로 수행하기 위해 자율 시스템을 여러 지역으로 나눔
  - 딕스트라 알고리즘을 사용하여 라우팅 테이블 생성
- BGP
  - Border Gateway Protocol
  - 관리자가 정하는 정책에 따라 경로 설정
  - Outer Domain
  - 자율 시스템 간 라우팅 프로토콜
  - 경로 백터 라우팅 방법 사용
  - TCP에 캡슐화
  - 잘 알려진 179번 포트 사용

## IPS
- Intrusion Prevention System
- 사설 네트워크를 외부로부터 보호
- 미리 정의된 규칙 기반
- 특징
  - 접근 제어 목록(ACL)을 통해 보안 정책 설정
  - 가능한 투명성 보장 --> 지연 없음
- 기능
  - 접근 제어
  - 로깅, 감사 추적
  - 인증
  - 데이터 암호화
- 역할
  - 취약한 서비스로부터 보호
  - 집중된 보안
  - 비밀성 향상
- 한계
  - 바이러스 차단 불가
  - 내부 공격 차단 불가
  - 우회 공격에 대한 제어 불가
  - 새로운 형태의 공격 차단 불가

## 화이트리스트
- 기본적으로 차단
- 경우에 따라 허용

## 블랙리스트
- 기본적으로 허용
- 경우에 따라 차단

## NAT
- Network Address Translation
- 주소 변환
- 공인 주소의 효과
- 네트워크 구조를 노출시키지 않음
- 내부 --> 외부
  - 발신지 주소를 범용 NAT 주소로 변환
- 외부 --> 내부
  - 목적지 주소를 사설 주소로 변

## IDS
- Intrusion Detection System
- 네트워크에서 발생하는 비정상적인 행위를 실시간으로 탐지하여 대응
- 보안 정책에 따라 탐지 및 대응책 설정
- 특징
  - 내/외부망의 접속 지점에 위치
- 장점
  - 내부 사용자의 오남용 탐지 및 방어 가능
  - 해킹 사고 시 근원지 추적 가능
- 단점
  - 새로운 침입 기법에 대한 즉각적인 대응 곤란
  - 근본적인 해결책이 되지 못함

## VPN
- Virutal Private Network
- 특징
  - 인터넷을 통해 디바이스 간에 사설 네트워크 연결 설정
  - 공중망을 이용하여 사설망이 요구하는 서비스를 제공할 수 있도록 구축한 망
  - 공중망 내에서 전용선처럼 사용할 수 있도록 함
  - 보안성 우수
- 장점
  - 해당 ISP가 있는 곳이라면 어디서든 접속 가능
  - 다양한 구축 방법 : IPSec, MPLS 등
  - 네트워크의 유연성
- 단점
  - 표준의 부재
- 구성요소
  - 터널링
  - 암호화 및 인증
  - 접근 제어
- 프로토콜
  - 2계층 : PPTP, L2TP, L2F
  - 3계층 : IPSec
  - 2/3계층 : MPLS
